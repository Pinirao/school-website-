{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{useNavigate}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import'./Logout.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Logout=()=>{const[isLoggedOut,setIsLoggedOut]=useState(false);const[countdown,setCountdown]=useState(5);const{logout}=useContext(AuthContext);const navigate=useNavigate();useEffect(()=>{// Check if user is logged in\nconst isAuthenticated=localStorage.getItem('isAuthenticated')==='true';if(!isAuthenticated){setIsLoggedOut(true);}},[]);useEffect(()=>{let timer;if(isLoggedOut&&countdown>0){timer=setTimeout(()=>{setCountdown(countdown-1);},1000);}else if(isLoggedOut&&countdown===0){// Redirect to login page after countdown\nnavigate('/login');}return()=>clearTimeout(timer);},[isLoggedOut,countdown,navigate]);const handleLogout=()=>{// Perform logout operations using AuthContext\nlogout();// Clear local storage items\nlocalStorage.removeItem('authToken');localStorage.removeItem('isAuthenticated');localStorage.removeItem('userData');// Set logout state\nsetIsLoggedOut(true);};const handleCancel=()=>{// Redirect back to the previous page or home\nnavigate(-1);};const handleGoToLogin=()=>{navigate('/login');};return/*#__PURE__*/_jsx(\"div\",{className:\"logout-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logout-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"illustration-side\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"floating-objects\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"shape shape-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"shape shape-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"shape shape-3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-illustration\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"door\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"door-front\"}),/*#__PURE__*/_jsx(\"div\",{className:\"door-handle\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"door-frame\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"See You Soon!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"We hope to welcome you back again\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-side\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logout-content\",children:!isLoggedOut?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log Out\"}),/*#__PURE__*/_jsx(\"p\",{className:\"logout-message\",children:\"Are you sure you want to log out?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logout-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn confirm-btn\",onClick:handleLogout,children:\"Yes, Log Out\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn cancel-btn\",onClick:handleCancel,children:\"Cancel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logout-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-icon\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Your data will remain secure\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-icon\",children:\"\\u21A9\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"You can always log back in\"})]})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"logout-success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Logged Out Successfully\"}),/*#__PURE__*/_jsx(\"p\",{className:\"logout-message\",children:\"You have been successfully logged out of your account.\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"redirect-message\",children:[\"Redirecting to login page in \",countdown,\" seconds...\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn login-btn\",onClick:handleGoToLogin,children:\"Go to Login Page Now\"})]})})})})]})});};export default Logout;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Logout","isLoggedOut","setIsLoggedOut","countdown","setCountdown","logout","navigate","isAuthenticated","localStorage","getItem","timer","setTimeout","clearTimeout","handleLogout","removeItem","handleCancel","handleGoToLogin","className","children","onClick"],"sources":["C:/Users/kollu/Downloads/School website/school-website-1/src/pages/Logout.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport './Logout.css';\r\n\r\nconst Logout = () => {\r\n  const [isLoggedOut, setIsLoggedOut] = useState(false);\r\n  const [countdown, setCountdown] = useState(5);\r\n  const { logout } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Check if user is logged in\r\n    const isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\r\n    \r\n    if (!isAuthenticated) {\r\n      setIsLoggedOut(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (isLoggedOut && countdown > 0) {\r\n      timer = setTimeout(() => {\r\n        setCountdown(countdown - 1);\r\n      }, 1000);\r\n    } else if (isLoggedOut && countdown === 0) {\r\n      // Redirect to login page after countdown\r\n      navigate('/login');\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [isLoggedOut, countdown, navigate]);\r\n\r\n  const handleLogout = () => {\r\n    // Perform logout operations using AuthContext\r\n    logout();\r\n    \r\n    // Clear local storage items\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('isAuthenticated');\r\n    localStorage.removeItem('userData');\r\n    \r\n    // Set logout state\r\n    setIsLoggedOut(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    // Redirect back to the previous page or home\r\n    navigate(-1);\r\n  };\r\n\r\n  const handleGoToLogin = () => {\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"logout-wrapper\">\r\n      <div className=\"logout-container\">\r\n        <div className=\"illustration-side\">\r\n          <div className=\"floating-objects\">\r\n            <div className=\"shape shape-1\"></div>\r\n            <div className=\"shape shape-2\"></div>\r\n            <div className=\"shape shape-3\"></div>\r\n          </div>\r\n          <div className=\"main-illustration\">\r\n            <div className=\"door\">\r\n              <div className=\"door-front\"></div>\r\n              <div className=\"door-handle\"></div>\r\n            </div>\r\n            <div className=\"door-frame\"></div>\r\n          </div>\r\n          <h2>See You Soon!</h2>\r\n          <p>We hope to welcome you back again</p>\r\n        </div>\r\n        \r\n        <div className=\"content-side\">\r\n          <div className=\"logout-content\">\r\n            {!isLoggedOut ? (\r\n              <>\r\n                <h1>Log Out</h1>\r\n                <p className=\"logout-message\">Are you sure you want to log out?</p>\r\n                \r\n                <div className=\"logout-actions\">\r\n                  <button \r\n                    className=\"logout-btn confirm-btn\"\r\n                    onClick={handleLogout}\r\n                  >\r\n                    Yes, Log Out\r\n                  </button>\r\n                  <button \r\n                    className=\"logout-btn cancel-btn\"\r\n                    onClick={handleCancel}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"logout-info\">\r\n                  <div className=\"info-item\">\r\n                    <span className=\"info-icon\">üîí</span>\r\n                    <span>Your data will remain secure</span>\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <span className=\"info-icon\">‚Ü©Ô∏è</span>\r\n                    <span>You can always log back in</span>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div className=\"logout-success\">\r\n                  <div className=\"success-icon\">‚úÖ</div>\r\n                  <h1>Logged Out Successfully</h1>\r\n                  <p className=\"logout-message\">\r\n                    You have been successfully logged out of your account.\r\n                  </p>\r\n                  <p className=\"redirect-message\">\r\n                    Redirecting to login page in {countdown} seconds...\r\n                  </p>\r\n                  \r\n                  <button \r\n                    className=\"logout-btn login-btn\"\r\n                    onClick={handleGoToLogin}\r\n                  >\r\n                    Go to Login Page Now\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}